# 商务饭局模拟器

## 游戏概述
一个基于HTML+JavaScript开发的商务饭局模拟器，玩家需要扮演公司代表团，通过选择不同角色发言来促成商业合作。

## 文件结构
```
proj12_makedeal/
├── index.html          # 主页面文件
├── style.css           # 样式文件
├── game.js             # 游戏逻辑文件
├── README.md           # 说明文档
└── images/             # 图片资源
    ├── img_bg.png      # 背景图片
    ├── img_man1.png    # 人物图片1
    ├── img_man2.png    # 人物图片2
    └── img_man3.png    # 人物图片3
```

## 游戏玩法

### 角色介绍
- **技术总监**：通过介绍技术实力增加对方的「信心」，但可能会拉远「关系」
- **商务总监**：通过调节氛围、劝酒等方式拉近双方的「关系」
- **总经理**：直接提出合作邀请，需要在「信心」和「关系」都足够高时才能成功

### 胜利条件
当总经理提出合作邀请时，如果对方的「信心」和「关系」均高于80%，则合作成功！

### 失败条件
- 总经理提出合作邀请被拒绝，导致「信心」和「关系」大幅下降
- 当「信心」或「关系」降至0时，游戏失败
- **技术总监或商务总监发言后也会检查失败条件**

## 游戏特色

### 隐藏机制
- 「信心」和「关系」数值对玩家隐藏
- 玩家需要根据对方的回复态度来判断当前状况
- 对方回复会根据数值档位展现不同态度：
  - 低档位(0-30%)：简单附和，客套感明显
  - 中档位(31-50%)：委婉提出不同观点
  - 高档位(51-80%)：表示认同
  - 很高档位(81-100%)：主动示好

### 等级变化提示 ✨
- 当「信心」或「关系」等级发生变化时，屏幕中上方会显示简约的白色提示文字
- 提示在对方回复对话气泡完全消失后显示，不干扰对话阅读
- 如果两个等级同时变化，先显示信心提示，后显示关系提示

#### 信心等级提示
- **低等级**: "对方面无表情，似乎对技术能力存疑"
- **中等级**: "对方微微坐正了身子"
- **高等级**: "对方眼中闪过一丝赞许的光芒"
- **很高等级**: "对方明显被技术实力所折服"

#### 关系等级提示（区分升级/降级）
- **低等级**: 
  - 升级："对方开始收起冷漠，稍微放松了戒备"
  - 降级："气氛变得尴尬，对方明显保持着距离"
- **中等级**: 
  - 升级："对方开始放松下来，话语中多了些亲近"
  - 降级："对方重新变得客套，之前的亲近感在消退"
- **高等级**: 
  - 升级："对方脸上浮现出真诚的笑容"
  - 降级："对方的笑容变得勉强，热情在减退"
- **很高等级**: 
  - 升级："对方完全放下戒备，如老友般畅谈"
  - 降级："对方收敛了过度的热情，重新审视起来"

### 策略要素
- 需要平衡技术展示和关系维护
- 时机很重要：过早提出合作可能失败
- 每次发言都有随机性，增加游戏的不确定性
- 通过等级提示判断当前进度，制定下一步策略

## 技术特性

### 响应式设计
- 完全适配手机、平板等触摸设备
- 自适应屏幕尺寸，保持背景图完整显示

### 用户体验
- 流畅的对话动画效果
- 直观的角色选择界面
- 沉浸式的游戏氛围
- **简约白色等级提示，不干扰对话阅读**

### 代码结构
- **HTML**: 简洁的结构，分离内容和样式
- **CSS**: 独立的样式文件，支持响应式布局
- **JavaScript**: 模块化的游戏逻辑，包含完整的状态管理

## 调试功能
- 按**F12**键可以显示/隐藏「信心」和「关系」的具体数值面板
- 按**C**键在控制台输出当前游戏状态（包含等级信息）
- 按**H**键显示调试帮助信息
- 🔍 游戏过程中所有数值变化都会在控制台实时输出
- 💡 等级变化提示也会在控制台记录

### 控制台输出示例
```
🎮 商务饭局模拟器调试模式已启用
=== 游戏初始化 ===
信心: 20% (low)
关系: 20% (low)

--- 技术总监发言 ---
发言前 - 信心: 20%, 关系: 20%
我方话题: 我们的技术架构采用了最新的微服务设计...
数值变化: 信心 20% → 27% (+7)
数值变化: 关系 20% → 17% (-3)
对方基于信心值(27%)的回复等级: low
对方回复: 嗯，听起来不错。
发言后 - 信心: 27%, 关系: 17%
💡 等级提示: 对方微微坐正了身子
```

## 最近更新

### v1.2 更新内容 ✨
1. **新增等级变化提示功能**：
   - 等级变化时显示金色提示文字
   - 信心和关系各有4种不同等级的专属提示
   - 提示在对方回复结束后显示，增强沉浸感
   - 支持同时变化时的优先级处理

### v1.1 更新内容
1. **修复游戏失败逻辑**：现在技术总监和商务总监发言后也会检查失败条件
2. **代码重构**：将CSS和JavaScript拆分为独立文件，提高代码可维护性
3. **增强失败提示**：根据不同失败原因显示相应的失败信息

## 启动方法
直接在浏览器中打开 `index.html` 文件即可开始游戏。

## 游戏截图
游戏采用中式饭局背景，营造真实的商务饭局氛围。等级变化时会出现金色提示，增强游戏的反馈感。 